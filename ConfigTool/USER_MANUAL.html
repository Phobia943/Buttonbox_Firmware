<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grizzly Buttonbox - Benutzerhandbuch</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            background-color: #f9f9f9;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 40px;
            border-left: 5px solid #3498db;
            padding-left: 10px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
        }
        p {
            margin-bottom: 15px;
        }
        .screenshot-container {
            width: 100%;
            margin: 20px 0;
            text-align: center;
        }
        .screenshot-container img {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 1px solid #ddd;
        }
        .screenshot-caption {
            display: block;
            margin-top: 8px;
            font-size: 0.9em;
            color: #7f8c8d;
            font-style: italic;
        }
        code {
            background-color: #e0e0e0;
            padding: 2px 5px;
            border-radius: 4px;
            font-family: monospace;
        }
        .note {
            background-color: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
        }
        .important {
            background-color: #f8d7da;
            border-left: 5px solid #dc3545;
            color: #721c24;
            padding: 15px;
            margin: 20px 0;
            font-weight: bold;
        }
        .step {
            margin-bottom: 20px;
            padding-left: 20px;
        }
        .footer {
            margin-top: 60px;
            text-align: center;
            font-size: 0.8em;
            color: #95a5a6;
            border-top: 1px solid #e0e0e0;
            padding-top: 20px;
        }
        
        @media print {
            body {
                background-color: white;
                padding: 0;
                max-width: 100%;
            }
            h1 { margin-top: 0; }
            .page-break { page-break-before: always; }
            .screenshot-container img {
                max-height: 500px; /* Begrenzt Höhe beim Drucken */
            }
        }
    </style>
</head>
<body>

    <h1>Grizzly Buttonbox <small style="font-size: 0.6em; color: #7f8c8d;">Benutzerhandbuch</small></h1>

    <p>Vielen Dank, dass Sie sich für die Grizzly Buttonbox entschieden haben. Dieses Handbuch führt Sie durch die Installation, das Firmware-Update und die Konfiguration Ihrer neuen Hardware.</p>

    <div class="important">
        ⚠️ WICHTIG: Bitte nutzen Sie das Tool im <u>Vollbildmodus</u>!<br>
        Einige Buttons (insbesondere beim Firmware-Update) sind auf kleineren Fenstern möglicherweise nicht sichtbar.
    </div>

    <div class="note">
        <strong>Hinweis:</strong> Bitte schließen Sie die Buttonbox an einen USB-Port Ihres Computers an, bevor Sie die Software starten.
    </div>

    <h2>1. Software Übersicht</h2>
    <p>Starten Sie die <code>ButtonboxTool.exe</code>. Es ist keine Installation notwendig.</p>

    <div class="screenshot-container">
        <img src="Screenshots/Screenshot 1.png" alt="Startbildschirm">
        <span class="screenshot-caption">Abbildung 1: Der Startbildschirm des ConfigTools</span>
    </div>

    <div class="step">
        <h3>Verbindung herstellen</h3>
        <ol>
            <li>Wählen Sie links unter <strong>Select Port</strong> den entsprechenden COM-Port Ihrer Buttonbox aus (oft als "USB Serial Device" erkannt).</li>
            <li>Klicken Sie auf <strong style="color: green;">Connect</strong>.</li>
            <li>Der Status unten links sollte auf <span style="color: green;">Connected</span> wechseln.</li>
        </ol>
    </div>

    <div class="page-break"></div>

    <h2>2. Firmware Update</h2>
    <p>Falls ein Update notwendig ist oder Sie die Buttonbox neu flashen möchten:</p>

    <ol>
        <li>Klicken Sie im Hauptfenster auf den Tab <strong>Firmware Update</strong>.</li>
        <li>Wählen Sie unter <strong>Select Device</strong> Ihr Modell aus (z.B. "Buttonbox (2 Funkys)").</li>
    </ol>

    <div class="screenshot-container">
        <img src="Screenshots/Screenshot 2.png" alt="Firmware Update">
        <span class="screenshot-caption">Abbildung 2: Der Firmware-Update Prozess</span>
    </div>

    <ol start="3">
        <li>Klicken Sie auf <strong>1. Reboot to Bootloader</strong>. Das Gerät startet neu und meldet sich als Laufwerk an.</li>
        <li>Klicken Sie anschließend auf <strong style="color: orange;">3. Flash Firmware</strong>.</li>
        <li>Warten Sie auf die Erfolgsmeldung.</li>
    </ol>
    
    <p><em>(Sollte der Button "Flash Firmware" nicht sichtbar sein, vergrößern Sie bitte das Fenster auf Vollbild.)</em></p>

    <div class="page-break"></div>

    <h2>3. Konfiguration erstellen & ändern</h2>
    <p>Wechseln Sie in den Tab <strong>Configuration</strong>. Hier können Sie die Tastenbelegung Ihrer Buttonbox anpassen.</p>

    <div class="screenshot-container">
        <img src="Screenshots/Screenshot 3.png" alt="Konfiguration">
        <span class="screenshot-caption">Abbildung 3: Konfiguration erstellen und bearbeiten</span>
    </div>

    <h3>Neue Konfiguration erstellen</h3>
    <div class="note">
        <strong>Wichtig bei Encodern mit Druckfunktion:</strong><br>
        Drehregler, die man auch drücken kann, zählen doppelt!<br>
        Tragen Sie diese bitte als <strong>1 Encoder</strong> UND <strong>1 Button</strong> ein.<br>
        <em>Beispiel: Eine Box mit 2 drückbaren Drehreglern hat "2 Encoders" und "2 Buttons".</em>
    </div>

    <ol>
        <li>Wählen Sie im Bereich "Create New Config" die Anzahl Ihrer Funkys, Encoder und Buttons (beachten Sie den Hinweis oben).</li>
        <li>Klicken Sie auf <strong>Generate Empty Config</strong>.</li>
        <li>Die Konfiguration erscheint im Textfeld unten.</li>
    </ol>

    <h3>Tasten automatisch erkennen (Latching Switches)</h3>
    <p>Für Kippschalter (Latching Switches), die dauerhaft an/aus bleiben, nutzen Sie den "Input Detector":</p>
    <ol>
        <li>Stellen Sie sicher, dass Sie verbunden sind (<span style="color: green;">Connected</span>).</li>
        <li>Klicken Sie auf <strong>Start Listening</strong>.</li>
        <li>Betätigen Sie den Schalter an der Box.</li>
        <li>Sobald er erkannt wurde ("Detected: ..."), klicken Sie auf <strong>Add as Latching Switch</strong>.</li>
        <li>Das Tool fügt automatisch die Logik hinzu (Taste drücken bei AN, Taste loslassen bei AUS).</li>
    </ol>

    <h3>Speichern</h3>
    <p>Vergessen Sie nicht, Ihre Änderungen mit einem Klick auf <strong style="color: green;">Save Config to Device</strong> zu speichern. Die Box startet kurz neu, um die Änderungen zu übernehmen.</p>

    <div class="footer">
        &copy; 2025 Grizzly Simgineering. Alle Rechte vorbehalten.
    </div>

</body>
</html>